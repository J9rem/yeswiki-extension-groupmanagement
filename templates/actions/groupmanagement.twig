<div class="well">
  {% if isAdmin %}
    <div class="pull-right">
      <form action="" method="post" style="display: inline">
        <input type="hidden" name="view" value="options">
        <button type="submit" class="btn btn-default btn-xs btn-icon" title="{{ _t('GRPMNGT_ACTION_MANAGE_OPTIONS') }}"><i class="fas fa-cogs"></i></button>
      </form>
    </div>
  {% endif %}
  <h2>{{ title }}</h2>
  {% if errorMsg %}
    {{ include("@templates/alert-message.twig",{type:"danger",message:errorMsg}) }}
  {% elseif entriesWhereAdmin is not empty %}
    <form action="" method="post" class="form-horizontal" id="groupManagementEntrySelect">
      {{ include("@bazar/inputs/select.twig",{
        field:{
          propertyName: "selectedEntry",
          required: true,
          type: "liste",
          label: selectentrylabel,
        },
        value: selectedEntry,
        options: entriesWhereAdmin,
      }) }}
      {% if selectedEntry is not empty %}
        {{ include("@groupmanagement/actions/groupmanagement_drag_n_drop.twig",{
          field:{
            propertyName: "membersofgroup",
            type: "checkbox",
            label: _t('GRPMNGT_ACTION_SELECTMEMBERS_LABEL'),
            fromFormId: '[fromForm]',
          },
          selectedOptionsId: selectedOptions ?? [],
          options: dragNDropOptions ?? [],
          optionsData : dragNDropOptionsData ?? [],
          oldValue: selectedOptions|join(','),
          name: _t('GRPMNGT_ACTION_DRAGNDROP_TITLE'),
        }) }}
      {% endif %}
      <input type="hidden" name="previousSelectedEntry" value="{{ selectedEntry }}">
      <input type="hidden" value="save" name="action">
      <button type="submit" class="btn btn-primary" title="{{ _t('SAVE') }}">{{ _t('SAVE') }}</button>
    </form>
  {% else %}
    {{ include("@templates/alert-message.twig",{
      type: "info",
      message: noentrylabel,
    }) }}
  {% endif %}
</div>

{{ include_javascript('tools/groupmanagement/javascripts/groupmanagement.js') }}